(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{fX0g:function(t,n,e){"use strict";e.r(n),e.d(n,"AlbumsModule",(function(){return k}));var o=e("tyNb"),s=e("ofXK"),i=e("5dmV"),c=e("xOb2"),a=e("Mj1F"),r=e("fXoL"),u=e("XiUz"),l=e("JsSk"),m=e("bTqV");let b=(()=>{class t{constructor(t){this.albumsService=t,this.chosen=new r.o}ngOnInit(){this.album=this.albumsService.getAlbumByIdx(this.albumIdx)}ngOnChanges(t){"albumIdx"in t&&(this.album=this.albumsService.getAlbumByIdx(this.albumIdx))}choose(){this.chosen.emit(this.albumIdx)}}return t.\u0275fac=function(n){return new(n||t)(r.Mb(l.a))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-my-album"]],inputs:{albumIdx:"albumIdx"},outputs:{chosen:"chosen"},features:[r.zb],decls:11,vars:4,consts:[["fxLayout","column","fxLayoutAlign","space-around center",1,"container"],[1,"album"],[1,"cover",3,"src"],["mat-raised-button","","color","primary",3,"click"]],template:function(t,n){1&t&&(r.Sb(0,"div",0),r.Sb(1,"div",1),r.Nb(2,"img",2),r.Sb(3,"div"),r.Cc(4),r.Rb(),r.Sb(5,"div"),r.Cc(6),r.Rb(),r.Sb(7,"div"),r.Cc(8),r.Rb(),r.Rb(),r.Sb(9,"button",3),r.ac("click",(function(){return n.choose()})),r.Cc(10,"Choose Me!"),r.Rb(),r.Rb()),2&t&&(r.Bb(2),r.lc("src","./assets/images/albums/",n.album.image,".png",r.uc),r.Bb(2),r.Dc(n.album.title),r.Bb(2),r.Dc(n.album.artist),r.Bb(2),r.Dc(n.album.year))},directives:[u.c,u.b,m.b],styles:[".container[_ngcontent-%COMP%]{margin:24px;padding:8px}.album[_ngcontent-%COMP%]{margin:50px 100px;min-height:350px;min-width:300px;max-height:400px;max-width:300px;font-size:1.5em;color:#fff;text-shadow:2px 0 #000,0 2px #000,2px 0 #000,0 2px #000;text-align:center}.cover[_ngcontent-%COMP%]{height:300px;width:300px;box-shadow:0 8px 12px grey,0 8px 48px grey}"]}),t})();const g=function(){return["/albums/compare"]};function h(t,n){1&t&&(r.Sb(0,"a",13),r.Cc(1,"Compare"),r.Rb()),2&t&&r.jc("routerLink",r.nc(1,g))}const p=function(){return["/albums/summary"]};function d(t,n){1&t&&(r.Sb(0,"a",13),r.Cc(1,"Summary"),r.Rb()),2&t&&r.jc("routerLink",r.nc(1,p))}let f=(()=>{class t{constructor(t,n){this.router=t,this.storageService=n,this.albumOne=null,this.albumTwo=null,this.matchCounter=0,this.show=!1,this.state="default"}ngOnInit(){this.albums=this.storageService.loadAlbumsFromLocalStorage(),this.albums.forEach(t=>{this.matchCounter+=t.wins}),this.getAlbumsForCompare(),setTimeout(()=>this.rotate())}getAlbumsForCompare(){this.albumOne=this.getRnd(this.albums.length),this.albumTwo=this.getRnd(this.albums.length,this.albumOne)}getRnd(t,n=null){const e=Math.floor(Math.random()*t);return e!==n?e:this.getRnd(t,n)}getNewAlbums(){this.getAlbumsForCompare()}onChosen(t){const n=t===this.albumOne?this.albumOne:this.albumTwo,e=t===this.albumOne?this.albumTwo:this.albumOne;null==this.albums[n].wins?this.albums[n].wins=1:this.albums[n].wins++,null==this.albums[e].losses?this.albums[e].losses=1:this.albums[e].losses++,this.matchCounter++,this.storageService.storeAlbumsToLocalStorage(this.albums),this.getAlbumsForCompare(),setTimeout(()=>this.rotate())}moveimg(){this.show=!this.show}get stateName(){return this.show?"move":"hide"}rotate(){this.state="default"===this.state?"rotated":"default"}}return t.\u0275fac=function(n){return new(n||t)(r.Mb(o.a),r.Mb(c.a))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-compare"]],decls:17,vars:6,consts:[["fxLayout","column","fxLayoutAlign","center",1,"compare-container"],["fxFlex","10%","fxLayout","column","fxLayoutAlign","start start",1,"button-container"],["mat-raised-button","","color","primary","id","show",3,"routerLink",4,"ngIf"],["fxFlex","80%",1,"turntable-container"],["fxLayout","row","fxLayoutAlign","space-evenly center",1,"album-container"],[3,"albumIdx","chosen"],["fxLayout","row","fxLayoutAlign","space-around center"],["mat-raised-button","","color","primary",3,"click"],["fxLayout","row","fxLayoutAlign","space-around center",1,"counter"],[1,"outer-record-container"],[1,"inner-record-container"],["fxLayoutAlign","center center","src","./assets/images/BigTenInch.png",1,"album"],["fxFlex","10%"],["mat-raised-button","","color","primary","id","show",3,"routerLink"]],template:function(t,n){1&t&&(r.Sb(0,"div",0),r.Sb(1,"div",1),r.Bc(2,h,2,2,"a",2),r.Bc(3,d,2,2,"a",2),r.Rb(),r.Sb(4,"div",3),r.Sb(5,"div",4),r.Sb(6,"app-my-album",5),r.ac("chosen",(function(t){return n.onChosen(t)})),r.Rb(),r.Sb(7,"app-my-album",5),r.ac("chosen",(function(t){return n.onChosen(t)})),r.Rb(),r.Rb(),r.Sb(8,"div",6),r.Sb(9,"button",7),r.ac("click",(function(){return n.getNewAlbums()})),r.Cc(10,"Reset"),r.Rb(),r.Rb(),r.Sb(11,"div",8),r.Cc(12),r.Rb(),r.Sb(13,"div",9),r.Sb(14,"div",10),r.Nb(15,"img",11),r.Rb(),r.Rb(),r.Rb(),r.Nb(16,"div",12),r.Rb()),2&t&&(r.Bb(2),r.jc("ngIf","/albums/compare"!==n.router.url),r.Bb(1),r.jc("ngIf","/albums/summary"!==n.router.url),r.Bb(3),r.jc("albumIdx",n.albumOne),r.Bb(1),r.jc("albumIdx",n.albumTwo),r.Bb(5),r.Ec("Counter: ",n.matchCounter,""),r.Bb(3),r.jc("@recordAnimations",n.state))},directives:[u.c,u.b,u.a,s.k,b,m.b,m.a,o.b],styles:[".compare-container[_ngcontent-%COMP%]{height:100vh;min-height:100vh;width:100vw}.compare-container[_ngcontent-%COMP%]   .mat-raised-button[_ngcontent-%COMP%]{margin:20px 20px 0}.compare-container[_ngcontent-%COMP%]   .turntable-container[_ngcontent-%COMP%]{background-repeat:no-repeat;background-position:50%;width:100%}.compare-container[_ngcontent-%COMP%]   .turntable-container[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%]{color:#fff;text-shadow:2px 2px 2px #000}.compare-container[_ngcontent-%COMP%]   .turntable-container[_ngcontent-%COMP%]   .outer-record-container[_ngcontent-%COMP%]{z-index:-1;position:absolute;top:19%;left:50%}.compare-container[_ngcontent-%COMP%]   .turntable-container[_ngcontent-%COMP%]   .outer-record-container[_ngcontent-%COMP%]   .inner-record-container[_ngcontent-%COMP%]{position:relative;left:-50%}.compare-container[_ngcontent-%COMP%]   .turntable-container[_ngcontent-%COMP%]   .outer-record-container[_ngcontent-%COMP%]   .inner-record-container[_ngcontent-%COMP%]   .album[_ngcontent-%COMP%]{width:600px;height:600px}"],data:{animation:[a.b]}}),t})();function C(t,n){const e=t.wins/(t.wins+t.losses),o=n.wins/(n.wins+n.losses);return e<o?1:e>o?-1:t.wins<n.wins?1:t.wins>n.wins?-1:t.losses>n.losses?1:t.losses<n.losses?-1:0}function x(t,n){const e=t.wins-t.losses,o=n.wins-n.losses;return e<o?1:e>o?-1:t.wins<n.wins?1:t.wins>n.wins?-1:t.losses>n.losses?1:t.losses<n.losses?-1:0}var y=e("V5TJ"),O=e("0IaG"),M=e("znSr");const P=function(){return["/albums/compare"]};function w(t,n){1&t&&(r.Sb(0,"a",9),r.Cc(1,"Compare"),r.Rb()),2&t&&r.jc("routerLink",r.nc(1,P))}const _=function(){return["/albums/summary"]};function v(t,n){1&t&&(r.Sb(0,"a",9),r.Cc(1,"Summary"),r.Rb()),2&t&&r.jc("routerLink",r.nc(1,_))}function S(t,n){if(1&t&&(r.Sb(0,"p"),r.Cc(1),r.Rb()),2&t){const t=r.ec().$implicit;r.Bb(1),r.Dc(t.artist)}}function R(t,n){if(1&t&&(r.Sb(0,"p"),r.Cc(1),r.Rb()),2&t){const t=r.ec().$implicit;r.Bb(1),r.Dc(t.year)}}function A(t,n){if(1&t&&(r.Sb(0,"p"),r.Cc(1),r.Rb()),2&t){const t=r.ec().$implicit,n=r.ec();r.Bb(1),r.Ec("Pct: ",n.getPct(t),"%")}}function B(t,n){if(1&t&&(r.Sb(0,"p"),r.Cc(1),r.Rb()),2&t){const t=r.ec().$implicit;r.Bb(1),r.Ec("Diff: ",t.wins-t.losses,"")}}function L(t,n){if(1&t){const t=r.Tb();r.Sb(0,"div",10),r.Nb(1,"img",11),r.Sb(2,"div",12),r.ac("click",(function(){r.tc(t);const e=n.$implicit;return r.ec().showDetails(e)})),r.Sb(3,"span",13),r.Sb(4,"p"),r.Cc(5),r.Rb(),r.Bc(6,S,2,1,"p",14),r.Bc(7,R,2,1,"p",14),r.Bc(8,A,2,1,"p",14),r.Bc(9,B,2,1,"p",14),r.Rb(),r.Rb(),r.Rb()}if(2&t){const t=n.$implicit,e=n.index,o=r.ec();r.jc("ngClass",o.getRankStyle(e)),r.Bb(1),r.lc("src","./assets/images/albums/",t.image,".png",r.uc),r.Bb(4),r.Dc(t.title),r.Bb(1),r.jc("ngIf",e<o.maxInfoAlbums),r.Bb(1),r.jc("ngIf",e<o.maxInfoAlbums),r.Bb(1),r.jc("ngIf",o.sortPct),r.Bb(1),r.jc("ngIf",!o.sortPct)}}const I=[{path:"",pathMatch:"full",redirectTo:"compare"},{path:"compare",component:f},{path:"summary",component:(()=>{class t{constructor(t,n,e){this.router=t,this.dialog=n,this.storageService=e,this.sortPct=!0,this.maxDisplayAlbums=42,this.maxInfoAlbums=22}ngOnInit(){this.albums=this.storageService.loadAlbumsFromLocalStorage()}ngDoCheck(){this.sortedAlbums=JSON.parse(JSON.stringify(this.albums)),this.sortedAlbums=this.sortedAlbums.sort(this.sortPct?C:x),this.displayAlbums=this.sortedAlbums.length>this.maxDisplayAlbums?this.sortedAlbums.splice(0,this.maxDisplayAlbums):this.sortedAlbums}getRankStyle(t){switch(!0){case t<10:return"top";case t<22:return"mid";default:return"rest"}}toggleSort(){this.sortPct=!this.sortPct}getPct(t){const n=t.wins||0,e=t.losses||0;return n+e===0?0:(n/(n+e)*100).toFixed(1)}showDetails(t){this.dialog.open(y.a,{data:{title:"Album Details",item:t,type:"albums"},panelClass:"details-container",minWidth:"500px"})}}return t.\u0275fac=function(n){return new(n||t)(r.Mb(o.a),r.Mb(O.b),r.Mb(c.a))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-summary"]],decls:11,vars:5,consts:[["fxLayout","row","fxLayoutAlign","center",1,"summary-container"],["fxFlex","10%","fxLayout","column","fxLayoutAlign","start start",1,"button-container"],["mat-raised-button","","color","primary","id","show",3,"routerLink",4,"ngIf"],["fxFlex","80%","fxLayout","column","fxLayoutAlign","center center"],["fxLayout","row wrap",1,"list-container"],["class","album",3,"ngClass",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","space-around center"],["mat-raised-button","","color","primary",3,"click"],["fxFlex","10%"],["mat-raised-button","","color","primary","id","show",3,"routerLink"],[1,"album",3,"ngClass"],[1,"cover",3,"src"],[1,"overlay",3,"click"],[1,"text"],[4,"ngIf"]],template:function(t,n){1&t&&(r.Sb(0,"div",0),r.Sb(1,"div",1),r.Bc(2,w,2,2,"a",2),r.Bc(3,v,2,2,"a",2),r.Rb(),r.Sb(4,"div",3),r.Sb(5,"div",4),r.Bc(6,L,10,7,"div",5),r.Rb(),r.Sb(7,"div",6),r.Sb(8,"button",7),r.ac("click",(function(){return n.toggleSort()})),r.Cc(9),r.Rb(),r.Rb(),r.Rb(),r.Nb(10,"div",8),r.Rb()),2&t&&(r.Bb(2),r.jc("ngIf","/albums/compare"!==n.router.url),r.Bb(1),r.jc("ngIf","/albums/summary"!==n.router.url),r.Bb(2),r.jc("@listAnimations",n.displayAlbums.length),r.Bb(1),r.jc("ngForOf",n.displayAlbums),r.Bb(3),r.Ec("Sort by ",n.sortPct?"Difference":"Percentage",""))},directives:[u.c,u.b,u.a,s.k,s.j,m.b,m.a,o.b,s.i,M.a],styles:[".summary-container[_ngcontent-%COMP%]{height:100vh;min-height:100vh;width:100vw}.summary-container[_ngcontent-%COMP%]   .mat-raised-button[_ngcontent-%COMP%]{margin:20px 20px 0}.summary-container[_ngcontent-%COMP%]   .list-container[_ngcontent-%COMP%]{width:920px}.summary-container[_ngcontent-%COMP%]   .list-container[_ngcontent-%COMP%]   .album[_ngcontent-%COMP%]{position:relative;margin:4px}.summary-container[_ngcontent-%COMP%]   .list-container[_ngcontent-%COMP%]   .album.top[_ngcontent-%COMP%]{width:calc(20% - 8px)}.summary-container[_ngcontent-%COMP%]   .list-container[_ngcontent-%COMP%]   .album.top[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:.9em}.summary-container[_ngcontent-%COMP%]   .list-container[_ngcontent-%COMP%]   .album.mid[_ngcontent-%COMP%]{width:calc(16.666% - 8px)}.summary-container[_ngcontent-%COMP%]   .list-container[_ngcontent-%COMP%]   .album.mid[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:.7em}.summary-container[_ngcontent-%COMP%]   .list-container[_ngcontent-%COMP%]   .album.rest[_ngcontent-%COMP%]{width:calc(10% - 8px)}.summary-container[_ngcontent-%COMP%]   .list-container[_ngcontent-%COMP%]   .album.rest[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:.5em}.summary-container[_ngcontent-%COMP%]   .list-container[_ngcontent-%COMP%]   .album[_ngcontent-%COMP%]   .cover[_ngcontent-%COMP%]{display:block;height:100%;width:100%;box-shadow:0 4px 8px grey,0 4px 16px grey}.summary-container[_ngcontent-%COMP%]   .list-container[_ngcontent-%COMP%]   .album[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:0;right:0;height:100%;width:100%;opacity:0;transition:.25s ease-in-out;background-color:rgba(0,0,0,.8)}.summary-container[_ngcontent-%COMP%]   .list-container[_ngcontent-%COMP%]   .album[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{color:#fff;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center}.summary-container[_ngcontent-%COMP%]   .list-container[_ngcontent-%COMP%]   .album[_ngcontent-%COMP%]:hover   .overlay[_ngcontent-%COMP%]{opacity:.8}"],data:{animation:[a.a]}}),t})()}];let k=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(n){return new(n||t)},imports:[[s.c,i.a,o.c.forChild(I)]]}),t})()}}]);