!function(){function t(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function n(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function e(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{fX0g:function(n,o,a){"use strict";a.r(o),a.d(o,"AlbumsModule",(function(){return z}));var i,c=a("tyNb"),r=a("ofXK"),s=a("5dmV"),u=a("xOb2"),l=a("Mj1F"),b=a("fXoL"),m=a("XiUz"),g=a("JsSk"),h=a("bTqV"),p=((i=function(){function n(e){t(this,n),this.albumsService=e,this.chosen=new b.o}return e(n,[{key:"ngOnInit",value:function(){this.album=this.albumsService.getAlbumByIdx(this.albumIdx)}},{key:"ngOnChanges",value:function(t){"albumIdx"in t&&(this.album=this.albumsService.getAlbumByIdx(this.albumIdx))}},{key:"choose",value:function(){this.chosen.emit(this.albumIdx)}}]),n}()).\u0275fac=function(t){return new(t||i)(b.Mb(g.a))},i.\u0275cmp=b.Gb({type:i,selectors:[["app-my-album"]],inputs:{albumIdx:"albumIdx"},outputs:{chosen:"chosen"},features:[b.zb],decls:11,vars:4,consts:[["fxLayout","column","fxLayoutAlign","space-around center",1,"container"],[1,"album"],[1,"cover",3,"src"],["mat-raised-button","","color","primary",3,"click"]],template:function(t,n){1&t&&(b.Sb(0,"div",0),b.Sb(1,"div",1),b.Nb(2,"img",2),b.Sb(3,"div"),b.Cc(4),b.Rb(),b.Sb(5,"div"),b.Cc(6),b.Rb(),b.Sb(7,"div"),b.Cc(8),b.Rb(),b.Rb(),b.Sb(9,"button",3),b.ac("click",(function(){return n.choose()})),b.Cc(10,"Choose Me!"),b.Rb(),b.Rb()),2&t&&(b.Bb(2),b.lc("src","/assets/images/albums/",n.album.image,".png",b.uc),b.Bb(2),b.Dc(n.album.title),b.Bb(2),b.Dc(n.album.artist),b.Bb(2),b.Dc(n.album.year))},directives:[m.c,m.b,h.b],styles:[".container[_ngcontent-%COMP%]{margin:24px;padding:8px}.album[_ngcontent-%COMP%]{margin:50px 100px;min-height:350px;min-width:300px;max-height:400px;max-width:300px;font-size:1.5em;color:#fff;text-shadow:4px 4px 8px grey;text-align:center}.cover[_ngcontent-%COMP%]{height:300px;width:300px;box-shadow:0 8px 12px grey,0 8px 48px grey}"]}),i),f=function(){return["/albums/compare"]};function d(t,n){1&t&&(b.Sb(0,"a",13),b.Cc(1,"Compare"),b.Rb()),2&t&&b.jc("routerLink",b.nc(1,f))}var y=function(){return["/albums/summary"]};function C(t,n){1&t&&(b.Sb(0,"a",13),b.Cc(1,"Summary"),b.Rb()),2&t&&b.jc("routerLink",b.nc(1,y))}var x,v=((x=function(){function n(e,o){t(this,n),this.router=e,this.storageService=o,this.albumOne=null,this.albumTwo=null,this.matchCounter=0,this.show=!1,this.state="default"}return e(n,[{key:"ngOnInit",value:function(){var t=this;this.albums=this.storageService.loadAlbumsFromLocalStorage(),this.albums.forEach((function(n){t.matchCounter+=n.wins})),this.getAlbumsForCompare(),setTimeout((function(){return t.rotate()}))}},{key:"getAlbumsForCompare",value:function(){this.albumOne=this.getRnd(this.albums.length),this.albumTwo=this.getRnd(this.albums.length,this.albumOne)}},{key:"getRnd",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,e=Math.floor(Math.random()*t);return e!==n?e:this.getRnd(t,n)}},{key:"getNewAlbums",value:function(){this.getAlbumsForCompare()}},{key:"onChosen",value:function(t){var n=this,e=t===this.albumOne?this.albumOne:this.albumTwo,o=t===this.albumOne?this.albumTwo:this.albumOne;null==this.albums[e].wins?this.albums[e].wins=1:this.albums[e].wins++,null==this.albums[o].losses?this.albums[o].losses=1:this.albums[o].losses++,this.matchCounter++,this.storageService.storeAlbumsToLocalStorage(this.albums),this.getAlbumsForCompare(),setTimeout((function(){return n.rotate()}))}},{key:"moveimg",value:function(){this.show=!this.show}},{key:"rotate",value:function(){this.state="default"===this.state?"rotated":"default"}},{key:"stateName",get:function(){return this.show?"move":"hide"}}]),n}()).\u0275fac=function(t){return new(t||x)(b.Mb(c.a),b.Mb(u.a))},x.\u0275cmp=b.Gb({type:x,selectors:[["app-compare"]],decls:17,vars:6,consts:[["fxLayout","column","fxLayoutAlign","center",1,"compare-container"],["fxFlex","10%","fxLayout","column","fxLayoutAlign","start start",1,"button-container"],["mat-raised-button","","color","primary","id","show",3,"routerLink",4,"ngIf"],["fxFlex","80%",1,"turntable-container"],["fxLayout","row","fxLayoutAlign","space-evenly center",1,"album-container"],[3,"albumIdx","chosen"],["fxLayout","row","fxLayoutAlign","space-around center"],["mat-raised-button","","color","primary",3,"click"],["fxLayout","row","fxLayoutAlign","space-around center",1,"counter"],[1,"outer-record-container"],[1,"inner-record-container"],["fxLayoutAlign","center center","src","/assets/images/BigTenInch.png",1,"album"],["fxFlex","10%"],["mat-raised-button","","color","primary","id","show",3,"routerLink"]],template:function(t,n){1&t&&(b.Sb(0,"div",0),b.Sb(1,"div",1),b.Bc(2,d,2,2,"a",2),b.Bc(3,C,2,2,"a",2),b.Rb(),b.Sb(4,"div",3),b.Sb(5,"div",4),b.Sb(6,"app-my-album",5),b.ac("chosen",(function(t){return n.onChosen(t)})),b.Rb(),b.Sb(7,"app-my-album",5),b.ac("chosen",(function(t){return n.onChosen(t)})),b.Rb(),b.Rb(),b.Sb(8,"div",6),b.Sb(9,"button",7),b.ac("click",(function(){return n.getNewAlbums()})),b.Cc(10,"Reset"),b.Rb(),b.Rb(),b.Sb(11,"div",8),b.Cc(12),b.Rb(),b.Sb(13,"div",9),b.Sb(14,"div",10),b.Nb(15,"img",11),b.Rb(),b.Rb(),b.Rb(),b.Nb(16,"div",12),b.Rb()),2&t&&(b.Bb(2),b.jc("ngIf","/albums/compare"!==n.router.url),b.Bb(1),b.jc("ngIf","/albums/summary"!==n.router.url),b.Bb(3),b.jc("albumIdx",n.albumOne),b.Bb(1),b.jc("albumIdx",n.albumTwo),b.Bb(5),b.Ec("Counter: ",n.matchCounter,""),b.Bb(3),b.jc("@recordAnimations",n.state))},directives:[m.c,m.b,m.a,r.k,p,h.b,h.a,c.b],styles:[".compare-container[_ngcontent-%COMP%]{height:100vh;min-height:100vh;width:100vw}.compare-container[_ngcontent-%COMP%]   .mat-raised-button[_ngcontent-%COMP%]{margin:20px 20px 0}.compare-container[_ngcontent-%COMP%]   .turntable-container[_ngcontent-%COMP%]{background-image:url(/assets/images/Turntable.png);background-repeat:no-repeat;background-position:50%;width:100%}.compare-container[_ngcontent-%COMP%]   .turntable-container[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%]{color:#000;text-shadow:1px 1px 2px grey}.compare-container[_ngcontent-%COMP%]   .turntable-container[_ngcontent-%COMP%]   .outer-record-container[_ngcontent-%COMP%]{z-index:-1;position:absolute;top:19%;left:50%}.compare-container[_ngcontent-%COMP%]   .turntable-container[_ngcontent-%COMP%]   .outer-record-container[_ngcontent-%COMP%]   .inner-record-container[_ngcontent-%COMP%]{position:relative;left:-50%}.compare-container[_ngcontent-%COMP%]   .turntable-container[_ngcontent-%COMP%]   .outer-record-container[_ngcontent-%COMP%]   .inner-record-container[_ngcontent-%COMP%]   .album[_ngcontent-%COMP%]{width:600px;height:600px}"],data:{animation:[l.b]}}),x);function O(t,n){var e=t.wins/(t.wins+t.losses),o=n.wins/(n.wins+n.losses);return e<o?1:e>o?-1:t.wins<n.wins?1:t.wins>n.wins?-1:t.losses>n.losses?1:t.losses<n.losses?-1:0}function M(t,n){var e=t.wins-t.losses,o=n.wins-n.losses;return e<o?1:e>o?-1:t.wins<n.wins?1:t.wins>n.wins?-1:t.losses>n.losses?1:t.losses<n.losses?-1:0}var P=a("V5TJ"),w=a("0IaG"),_=a("znSr"),S=function(){return["/albums/compare"]};function k(t,n){1&t&&(b.Sb(0,"a",9),b.Cc(1,"Compare"),b.Rb()),2&t&&b.jc("routerLink",b.nc(1,S))}var R=function(){return["/albums/summary"]};function A(t,n){1&t&&(b.Sb(0,"a",9),b.Cc(1,"Summary"),b.Rb()),2&t&&b.jc("routerLink",b.nc(1,R))}function B(t,n){if(1&t&&(b.Sb(0,"p"),b.Cc(1),b.Rb()),2&t){var e=b.ec().$implicit;b.Bb(1),b.Dc(e.artist)}}function L(t,n){if(1&t&&(b.Sb(0,"p"),b.Cc(1),b.Rb()),2&t){var e=b.ec().$implicit;b.Bb(1),b.Dc(e.year)}}function I(t,n){if(1&t&&(b.Sb(0,"p"),b.Cc(1),b.Rb()),2&t){var e=b.ec().$implicit,o=b.ec();b.Bb(1),b.Ec("Pct: ",o.getPct(e),"%")}}function j(t,n){if(1&t&&(b.Sb(0,"p"),b.Cc(1),b.Rb()),2&t){var e=b.ec().$implicit;b.Bb(1),b.Ec("Diff: ",e.wins-e.losses,"")}}function F(t,n){if(1&t){var e=b.Tb();b.Sb(0,"div",10),b.Nb(1,"img",11),b.Sb(2,"div",12),b.ac("click",(function(){b.tc(e);var t=n.$implicit;return b.ec().showDetails(t)})),b.Sb(3,"span",13),b.Sb(4,"p"),b.Cc(5),b.Rb(),b.Bc(6,B,2,1,"p",14),b.Bc(7,L,2,1,"p",14),b.Bc(8,I,2,1,"p",14),b.Bc(9,j,2,1,"p",14),b.Rb(),b.Rb(),b.Rb()}if(2&t){var o=n.$implicit,a=n.index,i=b.ec();b.jc("ngClass",i.getRankStyle(a)),b.Bb(1),b.lc("src","/assets/images/albums/",o.image,".png",b.uc),b.Bb(4),b.Dc(o.title),b.Bb(1),b.jc("ngIf",a<i.maxInfoAlbums),b.Bb(1),b.jc("ngIf",a<i.maxInfoAlbums),b.Bb(1),b.jc("ngIf",i.sortPct),b.Bb(1),b.jc("ngIf",!i.sortPct)}}var D,T,N=[{path:"",pathMatch:"full",redirectTo:"compare"},{path:"compare",component:v},{path:"summary",component:(D=function(){function n(e,o,a){t(this,n),this.router=e,this.dialog=o,this.storageService=a,this.sortPct=!0,this.maxDisplayAlbums=42,this.maxInfoAlbums=22}return e(n,[{key:"ngOnInit",value:function(){this.albums=this.storageService.loadAlbumsFromLocalStorage()}},{key:"ngDoCheck",value:function(){this.sortedAlbums=JSON.parse(JSON.stringify(this.albums)),this.sortedAlbums=this.sortedAlbums.sort(this.sortPct?O:M),this.displayAlbums=this.sortedAlbums.length>this.maxDisplayAlbums?this.sortedAlbums.splice(0,this.maxDisplayAlbums):this.sortedAlbums}},{key:"getRankStyle",value:function(t){switch(!0){case t<10:return"top";case t<22:return"mid";default:return"rest"}}},{key:"toggleSort",value:function(){this.sortPct=!this.sortPct}},{key:"getPct",value:function(t){var n=t.wins||0,e=t.losses||0;return n+e===0?0:(n/(n+e)*100).toFixed(1)}},{key:"showDetails",value:function(t){this.dialog.open(P.a,{data:{title:"Album Details",item:t,type:"albums"},panelClass:"details-container",minWidth:"500px"})}}]),n}(),D.\u0275fac=function(t){return new(t||D)(b.Mb(c.a),b.Mb(w.b),b.Mb(u.a))},D.\u0275cmp=b.Gb({type:D,selectors:[["app-summary"]],decls:11,vars:5,consts:[["fxLayout","row","fxLayoutAlign","center",1,"summary-container"],["fxFlex","10%","fxLayout","column","fxLayoutAlign","start start",1,"button-container"],["mat-raised-button","","color","primary","id","show",3,"routerLink",4,"ngIf"],["fxFlex","80%","fxLayout","column","fxLayoutAlign","center center"],["fxLayout","row wrap",1,"list-container"],["class","album",3,"ngClass",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","space-around center"],["mat-raised-button","","color","primary",3,"click"],["fxFlex","10%"],["mat-raised-button","","color","primary","id","show",3,"routerLink"],[1,"album",3,"ngClass"],[1,"cover",3,"src"],[1,"overlay",3,"click"],[1,"text"],[4,"ngIf"]],template:function(t,n){1&t&&(b.Sb(0,"div",0),b.Sb(1,"div",1),b.Bc(2,k,2,2,"a",2),b.Bc(3,A,2,2,"a",2),b.Rb(),b.Sb(4,"div",3),b.Sb(5,"div",4),b.Bc(6,F,10,7,"div",5),b.Rb(),b.Sb(7,"div",6),b.Sb(8,"button",7),b.ac("click",(function(){return n.toggleSort()})),b.Cc(9),b.Rb(),b.Rb(),b.Rb(),b.Nb(10,"div",8),b.Rb()),2&t&&(b.Bb(2),b.jc("ngIf","/albums/compare"!==n.router.url),b.Bb(1),b.jc("ngIf","/albums/summary"!==n.router.url),b.Bb(2),b.jc("@listAnimations",n.displayAlbums.length),b.Bb(1),b.jc("ngForOf",n.displayAlbums),b.Bb(3),b.Ec("Sort by ",n.sortPct?"Difference":"Percentage",""))},directives:[m.c,m.b,m.a,r.k,r.j,h.b,h.a,c.b,r.i,_.a],styles:[".summary-container[_ngcontent-%COMP%]{height:100vh;min-height:100vh;width:100vw}.summary-container[_ngcontent-%COMP%]   .mat-raised-button[_ngcontent-%COMP%]{margin:20px 20px 0}.summary-container[_ngcontent-%COMP%]   .list-container[_ngcontent-%COMP%]{width:920px}.summary-container[_ngcontent-%COMP%]   .list-container[_ngcontent-%COMP%]   .album[_ngcontent-%COMP%]{position:relative;margin:4px}.summary-container[_ngcontent-%COMP%]   .list-container[_ngcontent-%COMP%]   .album.top[_ngcontent-%COMP%]{width:calc(20% - 8px)}.summary-container[_ngcontent-%COMP%]   .list-container[_ngcontent-%COMP%]   .album.top[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:.9em}.summary-container[_ngcontent-%COMP%]   .list-container[_ngcontent-%COMP%]   .album.mid[_ngcontent-%COMP%]{width:calc(16.666% - 8px)}.summary-container[_ngcontent-%COMP%]   .list-container[_ngcontent-%COMP%]   .album.mid[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:.7em}.summary-container[_ngcontent-%COMP%]   .list-container[_ngcontent-%COMP%]   .album.rest[_ngcontent-%COMP%]{width:calc(10% - 8px)}.summary-container[_ngcontent-%COMP%]   .list-container[_ngcontent-%COMP%]   .album.rest[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:.5em}.summary-container[_ngcontent-%COMP%]   .list-container[_ngcontent-%COMP%]   .album[_ngcontent-%COMP%]   .cover[_ngcontent-%COMP%]{display:block;height:100%;width:100%;box-shadow:0 4px 8px grey,0 4px 16px grey}.summary-container[_ngcontent-%COMP%]   .list-container[_ngcontent-%COMP%]   .album[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:0;right:0;height:100%;width:100%;opacity:0;transition:.25s ease-in-out;background-color:rgba(0,0,0,.8)}.summary-container[_ngcontent-%COMP%]   .list-container[_ngcontent-%COMP%]   .album[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{color:#fff;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center}.summary-container[_ngcontent-%COMP%]   .list-container[_ngcontent-%COMP%]   .album[_ngcontent-%COMP%]:hover   .overlay[_ngcontent-%COMP%]{opacity:.8}"],data:{animation:[l.a]}}),D)}],z=((T=function n(){t(this,n)}).\u0275mod=b.Kb({type:T}),T.\u0275inj=b.Jb({factory:function(t){return new(t||T)},imports:[[r.c,s.a,c.c.forChild(N)]]}),T)}}])}();